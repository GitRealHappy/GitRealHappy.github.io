<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The Ecology of Time - Exploring temporal perspectives through nature and Taoist philosophy.">
    <title>Taoist Threads</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/tao.css"> <!-- External CSS linked here -->
</head>
<body>

<main>
    <!-- Hero section -->
    <div class="hero"></div>

    <div class="email-form">
        <form id="newsletter-form">
            <label for="email">Subscribe to Taoist Threads:</label>
            <input type="email" name="email" id="email" placeholder="email address">
            <button type="submit">Subscribe</button>
        </form>
        <span class="fine-print">You can easily unsubscribe at any time.</span>
        <p id="message"></p> <!-- This will display a success message -->
    </div>
<h1>Past Issues of Taoist Threads:</h1>
    <div class="section">
        <p><a href="tao2.html">Issue #2: The Unblocked Carver</a></p>
        <p><a href="tao1.html">Issue #1: Suffering, Art, and Liberation: The Story of a Four-Year Art Project</a></p>
    </div>

    
    <footer>
        Â© 2024 Taoist Threads. All rights reserved.
    </footer>
</main>

<script>
    document.getElementById('newsletter-form').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission
  
      const email = document.getElementById('email').value; // Get the email value
      const message = document.getElementById('message'); // Get the message paragraph
  
      // Send the form data to Google Apps Script using fetch
      fetch('https://script.google.com/macros/s/AKfycbxMKe5z6z4DrXXr-GpPGCLeJggxDCN2np3C__6wWmbRwUeMk0JOgzeofIsQEyeuowwW/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams({
          'email': email,
        })
      })
      .then(() => {
        // Assume the submission is successful and show the success message
        message.innerText = "Thanks for subscribing!";
        document.getElementById('email').value = ''; // Clear the form
      })
      .catch((error) => {
        // In case of any error, still show some feedback
        message.innerText = 'Error: Something went wrong. Please try again later.';
      });
    });
  </script>

</body>
</html>
